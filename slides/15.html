<link rel="stylesheet" href="styles/page-wave.css">
<link rel="stylesheet" href="styles/playground.css">

<h1>leading-trim</h1>

<p>
  テキストの表示の高さから不要なスペースを削る
    （<a href="https://medium.com/microsoft-design/leading-trim-the-future-of-digital-typesetting-d082d84b202" target="_blank">参考</a>）
</p>

<template class="playground" data-tab="css" data-width="750px">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Roboto&display=swap" rel="stylesheet">

  <div class="list">
    <small><b>normal</b>&nbsp;&nbsp;(Roboto)</small>
    <small>(Noto Sans JP)</small>
    <div class="text roboto">TEXT</div>
    <div class="text noto-sans">TEXT</div>
    <small><b>leading-trim</b>&nbsp;&nbsp;(Roboto)</small>
    <small>(Noto Sans JP)</small>
    <div class="text roboto leading-trim">TEXT</div>
    <div class="text noto-sans leading-trim">TEXT</div>
  </div>

  <style>
    .leading-trim {
      text-edge: cap alphabetic;
      leading-trim: both;
    }
    .text {
      background-color: #ef484640;
      font-size: 140px;
      font-weight: bold;
      line-height: 1;
      margin-bottom: 20px;
    }
    .list {
      width: max-content;
      display: grid;
      grid-template-columns: auto auto;
      gap: 0 30px;
    }

    .roboto {
      font-family: 'Roboto', sans-serif;
    }
    .noto-sans {
      font-family: 'Noto Sans JP', sans-serif;
    }
  </style>
</template>

<script src="scripts/page.js"></script>
<script src="scripts/playground.js"></script>

<div class="slide-note">
  [Editor’s Draft]

  これはもう私のスライドなんかよりも参考を見たほうが遥かに素晴らしいので、開きます。
  夜中に見かけて、一気に目がさめた素晴らしい紹介ページです。

  これCSS的には全部32pxの隙間になってるんですが、実際にはこんなバラバラの隙間に見えてしまいます。
  これはフォントによって固有のスペースが上下にあるからなんですが、それを削ぎ落とすのがLeading-trimになります。
  それによって整ったマージンを簡単に実現できるようになります。
  縦の中央揃いもそうですね。CSS的には真ん中のハズなのにどう見ても上や下に寄っている。そんな事もこれで解決する。かもしれません。

  -----------------

  これは本当にフロント実装で毎回毎回つらい所なので、一刻も早く使えるようになる日を待っています。

  ちなみにスライドに用意したのはフォントの比較です。
  左がroboto、右がnoto sans。上が通常の表示で、下はleading-trimを適用したものです。

  当然leading-trimはまだ効かないので上下の比較は一応用意しただけのものですが、左右のフォントの違いによる表示位置の違いは分かると思います。
  <del>上下のスペースがまるで違いますね。</del>

  ユーザーから見える文字の表現は、Webフォントを使わない限りは基本的に揃いません。
  そんな中で上下のズレを調整するのは結構不毛なものがあります。

  フォントの対応など気になる所もありますが、早く使ってみたいですね、本当に。
</div>
